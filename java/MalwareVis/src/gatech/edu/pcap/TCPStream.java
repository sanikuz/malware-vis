package gatech.edu.pcap;

public class TCPStream extends Stream {

    private String srcIP;
    private String dstIP;
    
    public TCPStream(){
    	super(); 
    }
    public TCPStream(long numPackets, long size, double startTime, double endTime,
            boolean finished, boolean successful, String srcIP, String dstIP) {
        super(numPackets, size, startTime, endTime, finished, successful);
        this.srcIP = srcIP;
        this.dstIP = dstIP;
    }

    public String getSrcIP() {
        return srcIP;
    }

    public String getDstIP() {
        return dstIP;
    }
    @Override
	public String toString() {
        return "TCP,"+this.dstIP+":"+super.toString();
    }
    public void parse(String line){
  	  String[] token = line.split(":"); 
  	  if (token.length!=2) {System.out.println("invalid input!"); return;}
  	  String[] part = token[0].split(",");
  	  if (part.length!=2) {System.out.println("invalid input!"); return;}
  	  this.dstIP = part[1]; 
  	  super.parseString(token[1]); 
    }
}

