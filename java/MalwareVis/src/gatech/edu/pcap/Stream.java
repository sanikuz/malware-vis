package gatech.edu.pcap;

public class Stream {
  private long numPackets;
  private long size;
  private double startTime;
  private double endTime;
  private boolean finished;
  private boolean successful;
  
  public Stream(){
	  
  }

  public Stream(long numPackets, long size, double startTime, double endTime,
      boolean finished, boolean successful) {
    this.numPackets = numPackets;
    this.size = size;
    this.startTime = startTime;
    this.endTime = endTime;
    this.finished = finished;
    this.successful = successful;
  }

  public long getNumPackets() {
      return numPackets;
  }

  public long getSize() {
      return size;
  }

  public double getStartTime() {
      return startTime;
  }

  public double getEndTime() {
      return endTime;
  }

  public boolean getFinished() {
      return finished;
  }

  public boolean getSuccessful() {
      return successful;
  }

  public void changeToOffset(double pcapStartTime) {
    this.startTime -= pcapStartTime;
    this.endTime -= pcapStartTime;
  }
  @Override
public String toString() {
      return this.numPackets+","+this.size+","+this.startTime+","+
    		  this.endTime+","+this.finished+","+this.successful;
  }
  
  public void parseString(String line){
	  String[] part = line.split(","); 
	  if (part.length!=6) {System.out.println("invalid input!"); return;}
	  numPackets = Long.parseLong(part[0]); 
	  size = Long.parseLong(part[1]); 
	  startTime = Double.parseDouble(part[2]); 
	  endTime = Double.parseDouble(part[3]); 
	  finished = Boolean.parseBoolean(part[4]); 
	  successful = Boolean.parseBoolean(part[5]); 
  }
}
